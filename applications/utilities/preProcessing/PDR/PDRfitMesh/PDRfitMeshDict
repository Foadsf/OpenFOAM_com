/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2012                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      PDRfitMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
// Tuning parameters (defaults) for PDRfitMesh
// - these normally do not need much changing


// Note the following are normally read from PDRsetFieldsDict
//
// - cellWidth
// - cellWidthFactor
// - outer  (contains optional zmin)
//

// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// ----------------------------------------------------------------------
// Finding planes
// ----------------------------------------------------------------------

// User defined bounds
bounds
{
    // xmin -1e16;
    // xmax 1e16;

    // ymin -1e16;
    // ymax 1e16;

    // zmin -1e16;
    // zmax 1e16;
}


outer
{
    //- Ground datum (hard zmin)
    // zmin -1e16;
}


// ----------------------------------------------------------------------
// Finding planes
// ----------------------------------------------------------------------


// Ignore faces smaller than this multiple of cell face area
minFaceArea         5.0;

// Only fit a plane if the face area at the coordinate is at least
// this times the cell face area
minAreaRatio        20.0;

// Size of search zones for face areas will be this * the cell width.
// So faces closer than this zone size might be grouped together
areaWidthFactor     0.7;


// Very long zones produce bad outer boundary shape from
// makePDRmeshBlocks, so we subdivide a zone if its length is greater
// than this * the height of the area of cuboid vells
maxZoneToHeight     2.0;



// ----------------------------------------------------------------------
// Choosing cell width
//
// <cellWidth> and <cellWidthFactor> read from PDRsetFieldsDict
// ----------------------------------------------------------------------

// Minimum number of cells in any direction
nCellsMin           10;

// Width of obstacles must be less than this * cell width to added
// into subgrid length
widthFactor         1.0;

// Optimal average number of obstacles per cell
obsPerCell          2.0;

//- Maximum cellWidth when auto-sizing
maxCellWidth        1e16;

// Do not use a cellWidth more than this times the initial estimate
maxWidthEstimate    5.0;

// Assume converged if optimised width changes by less than this
maxWidthRatio       1.2;

// Maximum iterations in optimising cellWidth
maxIterations       5;


// ----------------------------------------------------------------------
// Defining outer region
//
// ----------------------------------------------------------------------

// Fraction of rectangular cell layers each side of the central region.
nEdgeLayers         5.0;


// FUTURE?
//
// // Ratio of the outer extension distance to the average radius of the
// // congested region
// ratioOuterToCongRad     20.0;
//
// // Cell size ratio - should be same as that hard-wired in makePDRmeshBlocks
// outerRatio      1.2;


// ************************************************************************* //
